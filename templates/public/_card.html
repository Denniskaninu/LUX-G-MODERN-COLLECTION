<div class="card h-100 shadow-sm product-card">
    {% if product.image_path_web %}
        <div class="image-container" style="height: 200px; position: relative;">
            <img src="{{ url_for('public.serve_uploaded_file', filename=product.image_path_web) }}" 
                 class="card-img-top" alt="{{ product.name }}" loading="lazy"
                 style="height: 200px; width: 100%; object-fit: cover; object-position: center;">
        </div>
    {% else %}
        <div class="card-img-top bg-light d-flex align-items-center justify-content-center" style="height: 200px;">
            <i class="fas fa-image fa-3x text-muted"></i>
        </div>
    {% endif %}
    
    <div class="card-body">
        <h5 class="card-title mb-2">{{ product.name }}</h5>
        <p class="card-text text-muted small mb-2">
            {{ product.category }}
            {% if product.brand %} • {{ product.brand }}{% endif %}
            {% if product.color %} • {{ product.color }}{% endif %}
            {% if product.size %} • {{ product.size }}{% endif %}
        </p>
        <div class="d-flex justify-content-between align-items-center">
            <small class="text-muted">DM</small>
            <a href="https://wa.me/254741791259?text=Hi! I'm interested in {{ product.name }}" 
               class="btn btn-primary btn-sm" target="_blank">
                <i class="fab fa-whatsapp me-1"></i>Ask
            </a>
        </div>
    </div>
</div>
